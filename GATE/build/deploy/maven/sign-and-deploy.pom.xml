 <project>
  <modelVersion>4.0.0</modelVersion>
  <groupId>uk.ac.gate</groupId>
  <artifactId>gate-sign-and-deploy</artifactId>
  <packaging>pom</packaging>
  <name>Profiles to run gpg:sign-and-deploy</name>
  <version>1</version>
  <url>http://gate.ac.uk</url>
  <properties>
    <oss.release.repo>https://oss.sonatype.org/service/local/staging/deploy/maven2</oss.release.repo>
    <oss.snapshot.repo>https://oss.sonatype.org/content/repositories/snapshots</oss.snapshot.repo>
  </properties>
  <profiles>
    <profile>
      <id>publish-gate-asm</id>
      <build>
	<defaultGoal>verify</defaultGoal>
	<plugins>
	  <plugin>
	    <groupId>org.apache.maven.plugins</groupId>
	    <artifactId>maven-gpg-plugin</artifactId>
	    <version>1.1</version>
	    <executions>
	      <execution>
		<id>gate-asm</id>
		<phase>verify</phase>
		<goals>
		  <goal>sign-and-deploy-file</goal>
		</goals>
		<configuration>
		  <file>../../../lib/gate-asm.jar</file>
		  <repositoryId>gate-oss</repositoryId>
		  <url>${oss.release.repo}</url>
		  <pomFile>gate-asm.pom.xml</pomFile>
		  <keyname>${gate.gpg.keyname}</keyname>
		  <passphrase>${gate.gpg.passphrase}</passphrase>
		</configuration>
	      </execution>
	      <execution>
		<id>gate-asm-javadoc</id>
		<phase>verify</phase>
		<goals>
		  <goal>sign-and-deploy-file</goal>
		</goals>
		<configuration>
		  <file>gate-asm-javadoc.jar</file>
		  <classifier>javadoc</classifier>
		  <repositoryId>gate-oss</repositoryId>
		  <url>${oss.release.repo}</url>
		  <pomFile>gate-asm.pom.xml</pomFile>
		  <keyname>${gate.gpg.keyname}</keyname>
		  <passphrase>${gate.gpg.passphrase}</passphrase>
		</configuration>
	      </execution>
	      <execution>
		<id>gate-asm-sources</id>
		<phase>verify</phase>
		<goals>
		  <goal>sign-and-deploy-file</goal>
		</goals>
		<configuration>
		  <file>gate-asm-sources.jar</file>
		  <classifier>sources</classifier>
		  <repositoryId>gate-oss</repositoryId>
		  <url>${oss.release.repo}</url>
		  <pomFile>gate-asm.pom.xml</pomFile>
		  <keyname>${gate.gpg.keyname}</keyname>
		  <passphrase>${gate.gpg.passphrase}</passphrase>
		</configuration>
	      </execution>
	    </executions>
	  </plugin>
	</plugins>
      </build>
    </profile>
    <profile>
      <id>publish-gate-compiler-jdt</id>
      <build>
	<defaultGoal>verify</defaultGoal>
	<plugins>
	  <plugin>
	    <groupId>org.apache.maven.plugins</groupId>
	    <artifactId>maven-gpg-plugin</artifactId>
	    <version>1.1</version>
	    <executions>
	      <execution>
		<id>gate-asm</id>
		<phase>verify</phase>
		<goals>
		  <goal>sign-and-deploy-file</goal>
		</goals>
		<configuration>
		  <file>../../../lib/gate-compiler-jdt.jar</file>
		  <repositoryId>gate-oss</repositoryId>
		  <url>${oss.release.repo}</url>
		  <pomFile>gate-compiler-jdt.pom.xml</pomFile>
		  <keyname>${gate.gpg.keyname}</keyname>
		  <passphrase>${gate.gpg.passphrase}</passphrase>
		</configuration>
	      </execution>
	      <execution>
		<id>gate-compiler-jdt-javadoc</id>
		<phase>verify</phase>
		<goals>
		  <goal>sign-and-deploy-file</goal>
		</goals>
		<configuration>
		  <file>gate-compiler-jdt-javadoc.jar</file>
		  <classifier>javadoc</classifier>
		  <repositoryId>gate-oss</repositoryId>
		  <url>${oss.release.repo}</url>
		  <pomFile>gate-compiler-jdt.pom.xml</pomFile>
		  <keyname>${gate.gpg.keyname}</keyname>
		  <passphrase>${gate.gpg.passphrase}</passphrase>
		</configuration>
	      </execution>
	      <execution>
		<id>gate-compiler-jdt-sources</id>
		<phase>verify</phase>
		<goals>
		  <goal>sign-and-deploy-file</goal>
		</goals>
		<configuration>
		  <file>gate-compiler-jdt-sources.jar</file>
		  <classifier>sources</classifier>
		  <repositoryId>gate-oss</repositoryId>
		  <url>${oss.release.repo}</url>
		  <pomFile>gate-compiler-jdt.pom.xml</pomFile>
		  <keyname>${gate.gpg.keyname}</keyname>
		  <passphrase>${gate.gpg.passphrase}</passphrase>
		</configuration>
	      </execution>
	    </executions>
	  </plugin>
	</plugins>
      </build>
    </profile>
    <profile>
      <id>publish-generic</id>
      <build>
	<defaultGoal>verify</defaultGoal>
	<plugins>
	  <plugin>
	    <groupId>org.apache.maven.plugins</groupId>
	    <artifactId>maven-gpg-plugin</artifactId>
	    <version>1.1</version>
	    <executions>
	      <execution>
		<id>code</id>
		<phase>verify</phase>
		<goals>
		  <goal>sign-and-deploy-file</goal>
		</goals>
		<configuration>
		  <file>${file}.jar</file>
		  <repositoryId>gate-oss</repositoryId>
		  <url>${oss.release.repo}</url>
		  <pomFile>${pom}</pomFile>
		  <keyname>${gate.gpg.keyname}</keyname>
		  <passphrase>${gate.gpg.passphrase}</passphrase>
		</configuration>
	      </execution>
	      <execution>
		<id>javadoc</id>
		<phase>verify</phase>
		<goals>
		  <goal>sign-and-deploy-file</goal>
		</goals>
		<configuration>
		  <file>${file}-javadoc.jar</file>
		  <classifier>javadoc</classifier>
		  <repositoryId>gate-oss</repositoryId>
		  <url>${oss.release.repo}</url>
		  <pomFile>${pom}</pomFile>
		  <keyname>${gate.gpg.keyname}</keyname>
		  <passphrase>${gate.gpg.passphrase}</passphrase>
		</configuration>
	      </execution>
	      <execution>
		<id>sources</id>
		<phase>verify</phase>
		<goals>
		  <goal>sign-and-deploy-file</goal>
		</goals>
		<configuration>
		  <file>${file}-sources.jar</file>
		  <classifier>sources</classifier>
		  <repositoryId>gate-oss</repositoryId>
		  <url>${oss.release.repo}</url>
		  <pomFile>${pom}</pomFile>
		  <keyname>${gate.gpg.keyname}</keyname>
		  <passphrase>${gate.gpg.passphrase}</passphrase>
		</configuration>
	      </execution>
	    </executions>
	  </plugin>
	</plugins>
      </build>
    </profile>
  </profiles>
</project>